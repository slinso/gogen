{{- /* Zod validation schemas */ -}}
// Code generated by gogen. DO NOT EDIT.
// Source: {{ .File.Path }}

import { z } from 'zod';
{{ range .Types }}
{{- if eq .Kind "struct" }}
{{ if .Doc }}{{ docComment .Doc }}
{{ end -}}
export const {{ .Name }}Schema = z.object({
{{- range $i, $f := .Fields }}
  {{ tagOrName $f }}: {{ template "zodType" $f.Type }}{{ if isOptional $f }}.optional(){{ end }},
{{- end }}
});

export type {{ .Name }} = z.infer<typeof {{ .Name }}Schema>;
{{ else if or (eq .Kind "alias") (eq .Kind "named") }}
export const {{ .Name }}Schema = {{ template "zodType" .Underlying }};
export type {{ .Name }} = z.infer<typeof {{ .Name }}Schema>;
{{ end -}}
{{ end }}
{{- define "zodType" -}}
{{- if eq .Kind "basic" -}}
{{- if eq .Name "string" -}}z.string()
{{- else if eq .Name "bool" -}}z.boolean()
{{- else if or (hasPrefix .Name "int") (hasPrefix .Name "uint") (hasPrefix .Name "float") (eq .Name "byte") (eq .Name "rune") -}}z.number()
{{- else if eq .Name "any" -}}z.unknown()
{{- else if eq .Name "interface{}" -}}z.unknown()
{{- else -}}{{ .Name }}Schema{{/* Reference to another defined type */}}
{{- end -}}
{{- else if eq .Kind "named" -}}
{{- if eq .Raw "time.Time" -}}z.string().datetime()
{{- else if eq .Raw "uuid.UUID" -}}z.string().uuid()
{{- else -}}{{ .Name }}Schema
{{- end -}}
{{- else if eq .Kind "slice" -}}z.array({{ template "zodType" .Elem }})
{{- else if eq .Kind "array" -}}z.array({{ template "zodType" .Elem }})
{{- else if eq .Kind "map" -}}z.record({{ template "zodType" .Key }}, {{ template "zodType" .Value }})
{{- else if eq .Kind "pointer" -}}{{ template "zodType" .Elem }}.nullable()
{{- else if eq .Kind "interface" -}}z.unknown()
{{- else -}}z.unknown()
{{- end -}}
{{- end -}}
