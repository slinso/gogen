{{- /* Valibot validation schemas */ -}}
// Code generated by gogen. DO NOT EDIT.
// Source: {{ .File.Path }}

import * as v from 'valibot';
{{ range .Types }}
{{- if eq .Kind "struct" }}
{{ if .Doc }}{{ docComment .Doc }}
{{ end -}}
export const {{ .Name }}Schema = v.object({
{{- range $i, $f := .Fields }}
  {{ tagOrName $f }}: {{ template "valibotType" $f.Type }}{{ if isOptional $f }}.optional(){{ end }},
{{- end }}
});

export type {{ .Name }} = v.InferOutput<typeof {{ .Name }}Schema>;
{{ else if or (eq .Kind "alias") (eq .Kind "named") }}
export const {{ .Name }}Schema = {{ template "valibotType" .Underlying }};
export type {{ .Name }} = v.InferOutput<typeof {{ .Name }}Schema>;
{{ end -}}
{{ end }}
{{- define "valibotType" -}}
{{- if eq .Kind "basic" -}}
{{- if eq .Name "string" -}}v.string()
{{- else if eq .Name "bool" -}}v.boolean()
{{- else if or (hasPrefix .Name "int") (hasPrefix .Name "uint") (hasPrefix .Name "float") (eq .Name "byte") (eq .Name "rune") -}}v.number()
{{- else if eq .Name "any" -}}v.unknown()
{{- else if eq .Name "interface{}" -}}v.unknown()
{{- else -}}{{ .Name }}Schema{{/* Reference to another defined type */}}
{{- end -}}
{{- else if eq .Kind "named" -}}
{{- if eq .Raw "time.Time" -}}v.pipe(v.string(), v.isoDateTime())
{{- else if eq .Raw "uuid.UUID" -}}v.pipe(v.string(), v.uuid())
{{- else -}}{{ .Name }}Schema
{{- end -}}
{{- else if eq .Kind "slice" -}}v.array({{ template "valibotType" .Elem }})
{{- else if eq .Kind "array" -}}v.array({{ template "valibotType" .Elem }})
{{- else if eq .Kind "map" -}}v.record({{ template "valibotType" .Key }}, {{ template "valibotType" .Value }})
{{- else if eq .Kind "pointer" -}}v.nullable({{ template "valibotType" .Elem }})
{{- else if eq .Kind "interface" -}}v.unknown()
{{- else -}}v.unknown()
{{- end -}}
{{- end -}}
